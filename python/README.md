# MCDC

**Modified Condition/Decision Coverage Library for Python**

This library computes the *Modified Condition/Decision Coverage* (MCDC) and *Branch Coverage* (BC) metrics for Coloured Petri Net (CPN) models. 
To this end, it parses instrumented log files generated by the CPN Tool [1].


The library consists of two classes, LogFile and MCDC_Table.
LogFile reads the meaningful information from the log file, and feeds it to the MCDC_Table.
MCDC_Table is a class that wrappes the truth table corresponding to the evaluation of Boolean expressions.
Once the reading is completed, the user can compute coverage metrics by asking to the MCDC_Table.

Code example in doc/demo.py shows how to read a log file, create truth tables, print them and analyze the MCDC results.
Code example in doc/report.py writes a more exhaustive report that can be later used for plotting in GNU Plot.
The report.py script outputs how the MCDC and BD metrics evolve while reading the CPN log file (i.e., longer CPN simulations may produce higher coverage rates).
The output of the report.py script can be plotted with GNU Plot by running the following command:

It consists of  
plot "out.txt" using 1:2 title 'MCDC' with lines,\
     "out.txt" using 1:3 title 'BC' with lines

[1] [CPN Tools] (http://cpntools.org/)

## Installation

This library requires Python 2.7.9 or Python 3.4+. 
You must compile and install the source code by yourself. 
To do so, then execute the following steps. 
The dependencies of the tool are listed in requirements.txt. 
You can run the following command for installing them:

$ pip install -r requirements.txt

Afterwards you need to run:

$ python setup.py build

$ python setup.py install

for installing the library. In order to run all the tests, you must execute:

$ python setup.py test

or

$ cd Tests

$ pytest

from the root of the project folder.


For users that donâ€™t have write permission to the global site-packages directory or 
do not want to install our library into it, Python enables the selection of the target 
installation folder with a simple option:

$ pip install -r requirements.txt --user

$ python setup.py build

$ python setup.py install --user

In Unix/Mac OS X environments:, the structure of the installation folders will be the following:

|Type of file |  Installation directory|
|------------ | --------------------------|
| modules | userbase/lib/pythonX.Y/site-packages |
| scripts | userbase/bin |
| data | userbase |
| C headers | userbase/include/pythonX.Y/distname |

And here are the values used on Windows:

| Type of file |  Installation directory |
|------------ | --------------------------|
| modules | userbase\PythonXY\site-packages |
| scripts | userbase\Scripts |
| data | userbase |
| C headers | userbase\PythonXY\Include\distname |

The advantage of using this scheme compared to the other ones described in [2] is that the 
user site-packages directory is under normal conditions always included in sys.path, which 
means that there is no additional step to perform after running the setup.py script to 
finalize the installation.

[2] Installing Python Modules (Legacy version) (https://docs.python.org/2/install/)